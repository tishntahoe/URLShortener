# üîó URL Shortener (gRPC)

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **gRPC**. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ (`Shortener` –∏ `Redirect`), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üß© **gRPC-—Å–µ—Ä–≤–∏—Å—ã**:
  - `Shortener`: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—É—é —Å—Å—ã–ª–∫—É.
  - `Redirect`: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É URL.

- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–±—É–¥–µ—Ç –≤ –±—É–¥—É—â–µ–º)**:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–ª–æ–∂–µ–Ω–∞ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (–∫–æ–¥ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω).
  - –í–æ–∑–º–æ–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤, API-–∫–ª—é—á–µ–π –∏–ª–∏ JWT.

- ü™µ **–õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ñ–∞–π–ª.
  - –ó–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã, –æ—à–∏–±–∫–∏ –∏ —Å–ª—É–∂–µ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.

- üì¶ **–ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
  - –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏.
  - –ü—Ä–æ—Å—Ç–æ—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∏—á.


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Go 1.21+
- protoc + protoc-gen-go + protoc-gen-go-grpc
- make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –°–±–æ—Ä–∫–∞

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å gRPC-–∫–æ–¥
make proto

# –°–æ–±—Ä–∞—Ç—å –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞
make build
```

# –ó–∞–ø—É—Å–∫ shortener —Å–µ—Ä–≤–∏—Å–∞
```bash
./cmd/shortenerService
```
# –ó–∞–ø—É—Å–∫ redirect —Å–µ—Ä–≤–∏—Å–∞
```bash
./cmd/redirectService
```
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (—á–µ—Ä–µ–∑ grpcurl)
```bash
grpcurl -d '{"Link": "https://example.com"}' -plaintext <adress> shortener.Shortener/ToShort
```

